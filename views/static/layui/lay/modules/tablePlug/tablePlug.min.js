/** layui-v2.4.5 MIT License By https://www.layui.com */
 ;layui.define(["table"],function(e){"use strict";function t(e,a,i){a=a||window;var l=a.$||a.layui.$;l||console.log("该功能必须依赖jquery,请先为",a,"窗口引入jquery先");var n={};i&&a.top!==a.self&&(n=t(l(a.frames.frameElement),a.parent,i));var o=l("body").hasClass("layui-container")?l("body").offset():{top:0,left:0};return{top:(n.top||0)+e.offset().top-o.top-l(a.document).scrollTop(),left:(n.left||0)+e.offset().left-o.left-l(a.document).scrollLeft()}}var a="0.1.4",i=layui.cache.modules.tablePlug.substr(0,layui.cache.modules.tablePlug.lastIndexOf("/"));layui.link(i+"/tablePlug.css?v"+a),layui.link(i+"/icon/iconfont.css?v"+a),layui.extend({optimizeSelectOption:"{/}"+i+"/optimizeSelectOption/optimizeSelectOption"}).use("optimizeSelectOption");var l,n=layui.$,o=layui.laytpl,r=layui.laypage,c=layui.layer,s=layui.form,d=(layui.util,layui.table),u=layui.hint(),f=(layui.device(),"2.4.5"),y=(function(){return layui.device().ie&&parseInt(layui.device().ie)<9&&console.warn("tablePlug插件暂时不支持ie9以下的ie浏览器，如果需要支持可自行调试，一般就是一些数组的方法ie8没有还有一个重要的就是window.parent这些支持不好，在getPosition的时候会死循环，如果有这方面相关的经验有处理方法请分享给俺，谢谢。"),!(!d.thisTable||!d.Class)||(console.error("如果要使用该插件（tablePlug），参照readme.md的说明修改layui的table模块的代码，目前该组件是基于layui-V"+f,"https://gitee.com/sun_zoro/layuiTablePlug"),!1)}(),{version:a}),p={},h="additional",g="removed",m="original",v="disabled",b=".layui-table-body",x="layui-table-fixed-scroll",k="layui-none",T="layui-hide",C="layui-tablePlug-loading-p",L=".layui-table-header",_="colGroup",O=["numbers","checkbox","radio"],A=['<span class="layui-table-filter layui-inline">','<span class="layui-tablePlug-icon layui-tablePlug-icon-filter"></span>',"</span>"],S=function(e){return d.thisTable.that[e]},w=function(){var e={};return{check:function(t){return!!e[t]},reset:function(t){e[t]?(this.set(t,h,[]),this.set(t,g,[])):(e[t]={},e[t][m]=[],e[t][h]=[],e[t][g]=[],e[t][v]=[])},init:function(e,t){this.reset(e),this.set(e,m,t)},disabled:function(t,a){e[t]||this.reset(t),this.set(t,v,a)},checkDisabled:function(e,t){return this.get(e,v).indexOf(t)!==-1},getChecked:function(e){var t=this.get(e,g),a=this.get(e,m).concat(this.get(e,h)),i=[];return layui.each(a,function(e,a){t.indexOf(a)===-1&&i.indexOf(a)===-1&&i.push(a)}),i},get:function(t,a){return a===h||a===g||a===m||a===v?e[t]?e[t][a]||[]:[]:e[t]},set:function(t,a,i){a!==m&&a!==h&&a!==g&&a!==v||(e[t][a]=i&&D(i)?i:[])},update:function(t,a,i){var l=e[t][m],n=e[t][h],o=e[t][g];i?l.indexOf(a)===-1?n.indexOf(a)===-1&&n.push(a):o.indexOf(a)!==-1&&o.splice(o.indexOf(a),1):l.indexOf(a)===-1?n.indexOf(a)!==-1&&n.splice(n.indexOf(a),1):o.indexOf(a)===-1&&o.push(a)}}}(),D=function(e){return"[object Array]"===Object.prototype.toString.call(e)},P=function(e,t,a){if(e&&t&&(a=a||W(t),a&&a.checkStatus))for(var i=w.getChecked(t),l=0;l<e.length;l++)e[l][d.config.checkName]=i.indexOf(e[l][G(a)])!==-1},F=function(e,t){var a;if("string"==typeof e?a=W(e):(a=e.config,e=a?a.id:""),a){var i=a.elem.next();t&&(a.checkDisabled=a.checkDisabled||{},a.checkDisabled.enabled=a.checkDisabled.enabled||!0,a.checkDisabled.data=w.get(e,v)||[]),a.checkDisabled&&a.checkDisabled.enabled?layui.each(d.cache[e],function(t,l){i.find(".layui-table-body").find('tr[data-index="'+t+'"]').find('input[name="layTableCheckbox"]').prop("disabled",w.checkDisabled(e,l[G(a)]))}):w.set(e,v,[]),i.find('input[lay-filter="layTableAllChoose"]').prop("checked",d.checkStatus(e).isAll),s.render("checkbox",i.attr("lay-filter"))}};y.set=function(e){n.extend(!0,d.config,e||{})},y.set({pageLanguageText:{en:{jumpTo:"jump to",page:"page",go:"go",total:"total",unit:"",optionText:"limit each page"}}});var B=d.Class.prototype.loading;d.Class.prototype.loading=function(e){var t=this;if(B.call(t,e),!e&&t.layInit){t.layInit.remove(),t.layInit.addClass("layui-anim layui-anim-rotate layui-anim-loop"),t.layMain.height()||t.layBox.append(n('<div class="'+C+'" style="height: 56px;"></div>'));var a=0;t.layMain.height()-t.layMain.prop("clientHeight")>0&&(a=t.getScrollWidth()),t.layInit.height(t.layBox.height()-t.layHeader.height()-a).css("marginTop",t.layHeader.height()+"px"),t.layBox.append(t.layInit)}},d.Class.prototype.initTable=function(){var e=this;e.layFixed.find("tbody").html(""),e.layFixed.addClass(T),e.layTotal.addClass(T),e.layPage.addClass(T),e.layMain.find("tbody").html(""),e.layMain.find("."+k).remove(),e.layHeader.find('input[name="layTableCheckbox"]').prop("checked",!1),e.renderForm("checkbox")};var E=function(){var e=this;F(e),N.call(e),e.layMain.find("."+k).length||(e.layTotal.removeClass(T),e.layFixLeft.removeClass(T))};d.Class.prototype.pullData=function(e){var t=this,a=t.config,i=a.request,l=a.response,o=function(){"object"==typeof a.initSort&&t.sort(a.initSort.field,a.initSort.type)},r=d.getTemp(t.key);if(r.data.length)return c.alert("有未保存的临时数据，不可刷新表格！"),t.elem.addClass("has-data-temp-warn"),void t.loading(!0);if(t.startTime=(new Date).getTime(),a.url){var s={};s[i.pageName]=e,s[i.limitName]=a.limit;var u=n.extend(s,a.where);a.contentType&&0==a.contentType.indexOf("application/json")&&(u=JSON.stringify(u)),n.ajax({type:a.method||"get",url:a.url,contentType:a.contentType,data:u,dataType:"json",headers:a.headers||{},success:function(i){"function"==typeof a.parseData&&(i=a.parseData(i)||i),i[l.statusName]!=l.statusCode?(t.renderForm(),t.initTable(),t.layMain.append('<div class="'+k+'">'+(i[l.msgName]||"返回的数据不符合规范，正确的成功状态码 ("+l.statusName+") 应为："+l.statusCode)+"</div>")):(t.renderData(i,e,i[l.countName]),o(),a.time=(new Date).getTime()-t.startTime+" ms"),t.setColsWidth(),"function"==typeof a.done&&a.done(i,e,i[l.countName])},error:function(e,a){t.initTable(),t.layMain.append('<div class="'+k+'">数据接口请求异常：'+a+"</div>"),t.renderForm(),t.setColsWidth()}})}else if(a.data&&a.data.constructor===Array){var f={},y=e*a.limit-a.limit;f[l.dataName]=a.data.concat().splice(y,a.limit),f[l.countName]=a.data.length,t.initTable(),t.renderData(f,e,a.data.length),o(),t.setColsWidth(),"function"==typeof a.done&&a.done(f,e,f[l.countName])}},d.Class.prototype.renderData=function(e,t,a,i){var l=this,s=l.config,u=e[s.response.dataName]||[],f=[],y=[],p=[],h=function(){var e;return!i&&l.sortKey?l.sort(l.sortKey.field,l.sortKey.sort,!0):(layui.each(u,function(a,r){var c=[],u=[],h=[],g=a+s.limit*(t-1)+1;0!==r.length&&(i||(r[d.config.indexName]=a),l.eachCols(function(t,i){var l=i.field||t,f=s.index+"-"+i.key,y=r[l];if(void 0!==y&&null!==y||(y=""),!i.colGroup){var p=['<td data-field="'+l+'" data-key="'+f+'" '+function(){var e=[];return i.edit&&e.push('data-edit="'+i.edit+'"'),i.align&&e.push('align="'+i.align+'"'),i.templet&&e.push('data-content="'+y+'"'),i.toolbar&&e.push('data-off="true"'),i.event&&e.push('lay-event="'+i.event+'"'),i.style&&e.push('style="'+i.style+'"'),i.minWidth&&e.push('data-minwidth="'+i.minWidth+'"'),e.join(" ")}()+' class="'+function(){var e=[];return i.hide&&e.push(T),i.field||e.push("layui-table-col-special"),e.join(" ")}()+'">','<div class="layui-table-cell laytable-cell-'+function(){return"normal"===i.type?f:f+" laytable-cell-"+i.type}()+'">'+function(){var t=n.extend(!0,{LAY_INDEX:g},r),l=d.config.checkName;switch(i.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+function(){return i[l]?(r[l]=i[l],i[l]?"checked":""):t[l]?"checked":""}()+">";case"radio":return t[l]&&(e=a),'<input type="radio" name="layTableRadio_'+s.index+'" '+(t[l]?"checked":"")+' lay-type="layTableRadio">';case"numbers":return g}return i.toolbar?o(n(i.toolbar).html()||"").render(t):i.templet?function(){return"function"==typeof i.templet?i.templet(t):o(n(i.templet).html()||String(y)).render(t)}():y}(),"</div></td>"].join("");c.push(p),i.fixed&&"right"!==i.fixed&&u.push(p),"right"===i.fixed&&h.push(p)}}),f.push('<tr data-index="'+a+'">'+c.join("")+"</tr>"),y.push('<tr data-index="'+a+'">'+u.join("")+"</tr>"),p.push('<tr data-index="'+a+'">'+h.join("")+"</tr>"))}),l.layBody.scrollTop(0),!u.length||l.layMain.find("."+k).remove(),l.layMain.find("tbody").html(f.join("")),l.layFixLeft.find("tbody").html(y.join("")),l.layFixRight.find("tbody").html(p.join("")),l.renderForm(),"number"==typeof e&&l.setThisRowChecked(e),l.syncCheckAll(),l.haveInit?l.scrollPatch():setTimeout(function(){l.scrollPatch()},50),l.haveInit=!0,c.close(l.tipsIndex),s.HAS_SET_COLS_PATCH||l.setColsPatch(),s.HAS_SET_COLS_PATCH=!0,void E.call(l))};return l.layMain.find("."+k).length&&l.initTable(),l.key=s.id||s.index,d.cache[l.key]=u,l.layPage[0==a||0===u.length&&1==t?"addClass":"removeClass"](T),i?h():0===u.length?(l.renderForm(),l.initTable(),l.layMain.append('<div class="'+k+'">'+s.text.none+"</div>")):(h(),l.renderTotal(u),void(s.page&&(s.page=n.extend({elem:"layui-table-page"+s.index,count:a,limit:s.limit,limits:s.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(e,t){if(t||(l.page=e.curr,s.limit=e.limit,l.loading(),l.pullData(e.curr)),l.config.pageLanguage&&l.config.pageLanguage!==!0){var a;if("string"==typeof l.config.pageLanguage){if(!d.config.pageLanguageText[l.config.pageLanguage])return void console.log("找不到"+l.config.pageLanguage+"对应的语言文本定义");a=d.config.pageLanguageText[l.config.pageLanguage]}else{if("object"!=typeof l.config.pageLanguage)return;var i=l.config.pageLanguage.lan;if(!i)return;a=n.extend({},d.config.pageLanguageText[i],l.config.pageLanguage.text||{})}if(!a)return;var o=l.layPage.find(">div");o.addClass(T);var r=o.find(".layui-laypage-skip"),c=r.find("input"),u=r.find("button");r.html(a.jumpTo||"jump to"),c.appendTo(r),r.append(a.page||"page"),u.html(a.go||"go").appendTo(r);var f=o.find(".layui-laypage-count"),y=f.text();f.html((a.total||"total")+" "+y.split(" ")[1]+(a.unit?" "+a.unit:""));var p=o.find(".layui-laypage-limits");layui.each(p.find("option"),function(e,t){t=n(t);var i=t.text();t.html(i.split(" ")[0]+" "+(a.optionText||"limit each page"))}),o.removeClass(T)}}},s.page),s.page.count=a,r.render(s.page))))};var I=d.Class.prototype.setColsWidth;d.Class.prototype.setColsWidth=function(){var e=this;e.layBox.find("."+C).remove(),I.call(e);var t=e.config,a=(t.id,e.elem),i=a.find("."+k);if(e.elem[i.length&&e.layHeader.first().find(".layui-table").width()-1>e.layHeader.first().width()?"addClass":"removeClass"]("layui-table-none-overflow"),t.cols.length>1){var l=e.layFixed.find(L).find("th"),o=e.layHeader.height();o/=t.cols.length,l.each(function(e,t){t=n(t),t.height(o*parseInt(t.attr("rowspan")||1)-1-parseFloat(t.css("padding-top"))-parseFloat(t.css("padding-bottom")))})}e.layBody.scrollTop(0),e.layBody.scrollLeft(0),e.layHeader.scrollLeft(0)},n(window).resize(function(){c.close(l)}),d.Class.prototype.setInit=function(e){var t=this,a=t.config;return a.clientWidth=a.width||function(){var e=function(t){var i,l;t=t||a.elem.parent(),i=t.width();try{l="none"===t.css("display")}catch(n){}return!t[0]||i&&!l?i:e(t.parent())};return e()}(),"width"===e?a.clientWidth:void layui.each(a.cols,function(e,i){layui.each(i,function(l,n){if(!n)return void i.splice(l,1);if(n.key=e+"-"+l,n.hide=n.hide||!1,n.colGroup||n.colspan>1){var o=0;layui.each(a.cols[e+(parseInt(n.rowspan)||1)],function(t,a){a.HAS_PARENT||o>1&&o==n.colspan||(a.HAS_PARENT=!0,a.parentKey=e+"-"+l,o+=parseInt(a.colspan>1?a.colspan:1))}),n.colGroup=!0}t.initOpts(n)})})};var j=d.Class.prototype.reload;d.Class.prototype.reload=function(e){var t=this;d.reload(t.config.id,e,!0)},d.Class.prototype.addTemp=function(e,t){var a=this,i=[],l=[],r=[],c=a.config,s={};e=-e,d.cache[a.key][e]={},a.eachCols(function(t,a){var d=a.field||t,u=c.index+"-"+a.key,f=s[d];if(void 0!==f&&null!==f||(f=""),!a.colGroup){var y=['<td data-field="'+d+'" data-key="'+u+'" '+function(){var e=[];return"normal"===a.type&&a.edit!==!1&&e.push('data-edit="text"'),a.align&&e.push('align="'+a.align+'"'),a.templet&&e.push('data-content="'+f+'"'),a.toolbar&&e.push('data-off="true"'),a.event&&e.push('lay-event="'+a.event+'"'),a.style&&e.push('style="'+a.style+'"'),a.minWidth&&e.push('data-minwidth="'+a.minWidth+'"'),e.join(" ")}()+' class="'+function(){var e=[];return a.hide&&e.push(T),a.field||e.push("layui-table-col-special"),e.join(" ")}()+'">','<div class="layui-table-cell laytable-cell-'+function(){return"normal"===a.type?u:u+" laytable-cell-"+a.type}()+'">'+function(){var t=n.extend(!0,{LAY_INDEX:e},s);switch(a.type){case"checkbox":case"radio":case"numbers":return""}return a.toolbar?"":a.templet?function(){return"function"==typeof a.templet?a.templet(t):o(n(a.templet).html()||String(f)).render(t)}():f}(),"</div></td>"].join("");r.push(y),a.fixed&&"right"!==a.fixed&&i.push(y),"right"===a.fixed&&l.push(y)}}),a.layMain.find("."+k).remove(),a.elem.removeClass("layui-table-none-overflow"),a.layMain.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+r.join("")+"</tr>"),a.layFixLeft.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+i.join("")+"</tr>"),a.layFixRight.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+l.join("")+"</tr>"),a.renderForm(),a.resize(),a.layBody.scrollTop(a.layBody[0].scrollHeight),a.layBody.find('tr.layui-tablePlug-data-temp[data-index="'+e+'"]').find("td:first-child").append('<div class="close_temp"></div>'),a.layFixRight.find(".close_temp").remove(),"function"==typeof t&&t.call(a.config,a.layBody.find('tr[data-index="'+e+'"]'))},d.addTemp=function(e,t){var a=S(e);a&&a.addTemp(d.getTemp(e).numbers,t)},d.getTemp=function(e){for(var t=d.cache[e]||[],a=[],i=1;t[-i];i++)D(t[-i])||a.push(t[-i]);return{data:a,numbers:i}},d.cleanTemp=function(e,t){var a=S(e),i=d.getTemp(e),l=d.cache[e]||[];if(i.data.length)for(var o=i.numbers,r=1;r<o&&(!l[-r]||t&&-r!==t||(l[-r]=[],!t));r++);n('div.layui-table-view[lay-id="'+e+'"]').removeClass("has-data-temp-warn").find("tr.layui-tablePlug-data-temp[data-index"+(t?'="'+t+'"':"")+"]").remove(),d.resize(e),a.layBody.scrollTop(a.layBody[0].scrollHeight)},n(document).on("click",".layui-table-view tr.layui-table-hover.layui-tablePlug-data-temp div.close_temp",function(e){layui.stope(e);var t=n(this),a=t.closest("tr"),i=a.closest(".layui-table-view").attr("lay-id");d.cleanTemp(i,a.data("index"))}),d.eachCols=function(e,t,a){var i=this,l=i.thisTable.config[e]||{},o=[],r=0;a=n.extend(!0,[],a||l.cols),layui.each(a,function(e,t){layui.each(t,function(t,i){if(i.colGroup){var l=0;r++,i.CHILD_COLS=[],layui.each(a[e+(parseInt(i.rowspan)||1)],function(e,t){t.PARENT_COL_INDEX||l>1&&l==i.colspan||(t.PARENT_COL_INDEX=r,i.CHILD_COLS.push(t),l+=parseInt(t.colspan>1?t.colspan:1))})}i.PARENT_COL_INDEX||o.push(i)})});var c=function(e){layui.each(e||o,function(e,a){return a.CHILD_COLS?c(a.CHILD_COLS):void("function"==typeof t&&t(e,a))})};c()};var N=function(){var e=this,a=e.key,i=e.elem;d.eachCols(a,function(a,o){if("normal"===o.type){var r=o.field;if(!r)return;var s=i.find('th[data-field="'+r+'"]');o.filter?s.find(".layui-table-filter").length?s.find(".layui-table-filter").removeClass("layui-active"):n(A.join("")).insertAfter(s.find(".layui-table-cell>span:not(.layui-inline)")).click(function(a){layui.stope(a);var o=i.find(".layui-table-filter.layui-active");o.length&&o[0]!==this&&(o.removeClass("layui-active"),e.layBody.find("tr."+T).removeClass(T));var s=i.find(".layui-table-main"),u=[];layui.each(s.find('td[data-field="'+r+'"]'),function(e,t){t=n(t);var a=t.text();u.indexOf(a)===-1&&u.push(a)});var f=200,y=300,p=n(this),h=t(p.find(".layui-tablePlug-icon-filter")),g=h.top,m=h.left+p.width();m+f>n(document).width()&&(m-=f+p.width()),l=c.open({content:"",title:null,type:1,area:f+"px",shade:.1,closeBtn:0,fixed:!1,resize:!1,shadeClose:!0,offset:[g+"px",m+"px"],isOutAnim:!1,maxmin:!1,success:function(t,a){t.find(".layui-layer-content").html('<table id="layui-tablePlug-col-filter" lay-filter="layui-tablePlug-col-filter"></table>'),d.render({elem:"#layui-tablePlug-col-filter",data:u.map(function(t,a,i){var l={name:t};return l[d.config.checkName]=!e.layBody.find("tr."+T).filter(function(e,a){return n(a).find('td[data-field="'+r+'"]').text()===t}).length,l}),page:!1,skin:"nob",id:"layui-tablePlug-col-filter-layer",even:!1,height:u.length>8?y:null,size:"sm",style:"margin: 0;",cols:[[{type:"checkbox",width:40},{field:"name",title:'全选<span class="table-filter-opt-invert" onclick="layui.tablePlug && layui.tablePlug.tableFilterInvert(this);">反选</span>'}]]})},end:function(){p[e.layBody.find("tr."+T).length?"addClass":"removeClass"]("layui-active")}}),d.on("checkbox(layui-tablePlug-col-filter)",function(t){"all"===t.type?e.layBody.find("tr")[t.checked?"removeClass":"addClass"](T):layui.each(e.layBody.first().find('tr td[data-field="'+r+'"]'),function(a,i){if(i=n(i),i.text()===t.data.name){var l=i.parent();e.layBody.find('tr[data-index="'+l.data("index")+'"]')[t.checked?"removeClass":"addClass"](T)}})})}):s.find(".layui-table-filter").remove()}},e.config.cols)},R=d.render;d.render=function(e){var t=this,a=n.extend(!0,{},d.config,e),i=e.id||n(e.elem).attr("id");w.check(i)||w.init(i,a.checkStatus?a.checkStatus["default"]||[]:[]),a.checkDisabled&&D(a.checkDisabled.data)&&a.checkDisabled.data.length&&w.disabled(i,D(a.checkDisabled.data)?a.checkDisabled.data:[]);var l=a.parseData;if(l&&l.plugFlag||(e.parseData=function(e){var t=this;e="function"==typeof l?l.call(t,e)||e:e;var i=a.response?a.response.dataName||"data":"data";return P(e[i],t.id),e},e.parseData.plugFlag=!0),!e.url&&D(e.data)&&P(e.data,i,a),a.colFilterRecord){var o=q.get(i,e.colFilterRecord);n.each(e.cols,function(e,t){n.each(t,function(e,t){t.hide=!!o[t.field]})})}else q.clear(i);e.cols.length>1&&layui.each(e.cols,function(e,t){layui.each(t,function(e,t){t.field||t.toolbar||t.colspan&&1!==t.colspan||O.indexOf(t.type)!==-1?!t[_]||t.colspan>1||(t[_]=!1):t[_]=!0})});var r=R.call(t,e),s=r.config,u=s.elem.next();u.attr("lay-id")!==s.id&&u.attr("lay-id",s.id);var f=S(s.id);return r.setColsWidth(),f.config.url&&f.loading(),f.layMain.off("scroll").on("scroll",function(){var e=n(this),t=e.scrollLeft(),a=e.scrollTop();f.layHeader.scrollLeft(t),f.layTotal.scrollLeft(t),f.layFixed.find(b+":not(."+x+")").scrollTop(a),c.close(f.tipsIndex)}),f.layFixed.find(b).on("scroll",function(){var e=n(this);e.hasClass(x)&&(f.layFixed.find(b).scrollTop(e.scrollTop()),f.layMain.scrollTop(e.scrollTop()))}).on("mouseenter",function(){n(this).addClass(x)}).on("mouseleave",function(){n(this).removeClass(x),f.layFixed.removeClass(x)}),f.layFixRight.find(b).on("mouseenter",function(){var e=f.layFixRight;"-1px"!==e.css("right")?e.addClass(x):setTimeout(function(){"-1px"!==e.css("right")&&(console.log("出现了一开始还没有打滚动条补丁的时候就触发的情况"),e.addClass(x))},50)}),f.layFixLeft.find(b).on("mouseenter",function(){var e=f.layFixLeft.find(L).find("table").width(),t=f.layFixLeft.find(L).width()+1;f.layFixLeft.css({width:e+"px"}).find(b).css({width:t+"px"})}).on("mouseleave",function(){f.layFixLeft.css({width:"auto"}).find(b).css({width:"auto"})}),p[s.id]=r};var H=d.reload,M=function(){var e=["url","method","where","contentType","headers","parseData","request","response","data","page","initSort","autoSort"];return{getParams:function(){return e},registParams:function(){var t=this;layui.each(arguments,function(a,i){D(i)?t.registParams.apply(t,i):"string"==typeof i&&e.indexOf(i)===-1&&e.push(i)})}}}(),Y=function(){var e=!1;return{enable:function(){if(!arguments.length)return e;var t=arguments[0];"boolean"!=typeof t?u.error("如果要开启或者关闭全局的表格智能重载模式，请传入一个true/false为参数"):e=t}}}();M.registParams("colFilterRecord","checkStatus","smartReloadModel","checkDisabled"),d.reload=function(e,t,a){var i=this;t=t||{};var l=W(e),o=n.extend(!0,{},W(e),t);if(o.checkStatus||w.reset(e),Y.enable()&&o.smartReloadModel){var r=!1;if(!!o.page!=!!l.page&&(r=!0),!r){var c=n.extend(!0,[],M.getParams());layui.each(t,function(e,t){var a=c.indexOf(e);return a===-1?r=!0:void c.splice(a,1)})}if(!r){var s=S(e);return"object"==typeof t.page&&(t.page.curr&&(s.page=t.page.curr),delete t.elem,delete t.jump),a?n.extend(s.config,t):n.extend(!0,s.config,t),s.config.page||(s.page=1),s.loading(),s.pullData(s.page),d.thisTable.call(s)}}if(!a){var s=H.call(i,e,t);return p[e]=s}j.call(S(e),t),p[e].config=S(e).config};var W=function(e){return p[e]&&p[e].config},K=d.checkStatus;d.checkStatus=function(e){var t=this,a=K.call(t,e),i=W(e);if(i&&i.checkStatus&&(a.status=w.get(e)),i&&i.checkDisabled){var l=i.checkDisabled;if("object"==typeof l&&l.enabled!==!1){var n=0,o=0,r=G(i),c=w.get(e,v);layui.each(d.cache[e],function(e,t){var a=t[r];c.indexOf(a)===-1&&(n++,t[d.config.checkName]&&o++)}),a.isAll=o>0&&n===o}}return a};var z=function(e,t,a){return!w.checkDisabled(e,t)&&void w.update(e,t,a)},G=function(e){if(e.primaryKey)return e.primaryKey;var t=e.checkStatus&&e.checkStatus.primaryKey,a=e.checkDisabled&&e.checkDisabled.primaryKey;return t&&a&&t!==a&&layui.hint().error("注意：当前表格("+e.id+")中checkStatus和checkDisabled都配置了primaryKey,但是他们不是同一个字段，必须保持表格配置中主键是唯一的，建议直接设置在顶层配置中就可以了！"),a||t||"id"};d.on("checkbox",function(e){var t=n(this).closest(".layui-table-view"),a=t.attr("lay-id"),i=W(a);if(w.check(a)){var l=e.checked,o=e.data,r=e.type,c=G(i);if("one"===r)z(a,o[c],l);else if("all"===r){var u=!1;layui.each(layui.table.cache[a],function(e,i){var n=z(a,i[c],l);if(n===!1){u=!0;var o=w.getChecked(a).indexOf(i[c])!==-1;t.find(".layui-table-body").find('tr[data-index="'+e+'"]').find('input[name="layTableCheckbox"]').prop("checked",o),i[d.config.checkName]=o}}),u&&s.render("checkbox",t.attr("lay-filter"))}}}),s.on("checkbox",function(e){n(e.elem).change()});var q=function(){var e="tablePlug_col_filter_record",t=function(e){return"local"===e?"data":"sessionData"};return{set:function(a,i,l,n){if(a&&i){var o=t(n),r=this.get(a,n);r[i]=!l,layui[o](e,{key:a,value:r})}},get:function(a,i){return layui[t(i)](e)[a]||{}},clear:function(t){n.each(["data","sessionData"],function(a,i){layui[i](e,{key:t,remove:!0})})}}}();n(document).on("change",'input[lay-filter="LAY_TABLE_TOOL_COLS"]',function(e){var t=n(this),a=t.attr("name"),i=t.closest(".layui-table-view"),l=i.attr("lay-id"),o=W(l),r=o.colFilterRecord;r?q.set(l,a,this.checked,r):q.clear(l)}),n(document).off("mousedown",".layui-table-grid-down").on("mousedown",".layui-table-grid-down",function(e){d._tableTdCurr=n(this).closest("td")}),n(document).off("click",".layui-table-tips-main [lay-event]").on("click",".layui-table-tips-main [lay-event]",function(e){var t=n(this),a=d._tableTdCurr;if(a){var i=t.closest(".layui-table-tips").attr("times");c.close(i),d._tableTdCurr.find('[lay-event="'+t.attr("lay-event")+'"]').first().click()}}),d.on("toolbar()",function(e){var t=e.config,a=n(this);t.id,t.elem.next();switch(e.event){case"LAYTABLE_COLS":var i=a.find(".layui-table-tool-panel"),l=i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]'),o=i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]:checked');n('<li class="layui-form" lay-filter="LAY_TABLE_TOOL_COLS_FORM"><input type="checkbox" lay-skin="primary" lay-filter="LAY_TABLE_TOOL_COLS_ALL" '+(l.length===o.length?"checked":"")+' title="全选"><span class="LAY_TABLE_TOOL_COLS_Invert_Selection">反选</span></li>').insertBefore(i.find("li").first()).on("click",".LAY_TABLE_TOOL_COLS_Invert_Selection",function(e){layui.stope(e),i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]+').click()}),s.render("checkbox","LAY_TABLE_TOOL_COLS_FORM")}}),s.on("checkbox(LAY_TABLE_TOOL_COLS_ALL)",function(e){n(e.elem).closest("ul").find('[lay-filter="LAY_TABLE_TOOL_COLS"]'+(e.elem.checked?":not(:checked)":":checked")+"+").click()}),n(document).on("change",'input[lay-filter="LAY_TABLE_TOOL_COLS"]',function(e){var t=n(this);n('input[lay-filter="LAY_TABLE_TOOL_COLS_ALL"]').prop("checked",!!t.prop("checked")&&!n('input[lay-filter="LAY_TABLE_TOOL_COLS"]').not(":checked").length),s.render("checkbox","LAY_TABLE_TOOL_COLS_FORM")}),n(document).on("click",'.layui-table-view tbody [lay-event],.layui-table-view tbody tr [name="layTableCheckbox"]+',function(e){layui.stope(e)}),n.extend(y,{CHECK_TYPE_ADDITIONAL:h,CHECK_TYPE_REMOVED:g,CHECK_TYPE_ORIGINAL:m,tableCheck:w,colFilterRecord:q,getConfig:W,getIns:function(e){return p[e]},disabledCheck:function(e,t){var a=this;w.disabled(e,t||[]),F.call(a,e,!0)},dataRenderChecked:P,queryParams:M,smartReload:Y,tableFilterInvert:function(e){e=n(e);var t=e.closest(".layui-table-view"),a=t.attr("lay-id");if(a){var i=d.checkStatus(a);i.isAll?t.find('[lay-filter="layTableAllChoose"]+').click():t.find('tbody [name="layTableCheckbox"]:checked').length?layui.each(t.find('tbody [name="layTableCheckbox"]'),function(e,t){n(t).next().click()}):t.find('[lay-filter="layTableAllChoose"]+').click()}},getPosition:t}),e("tablePlug",y)});